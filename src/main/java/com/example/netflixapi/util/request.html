<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Movie Form</title>
</head>
<body>
<h2>Upload Movie Form</h2>
<form id="movieForm">
    <label for="title">Title:</label><br>
    <input type="text" id="title" name="title" required><br><br>

    <label for="alt">Alt:</label><br>
    <input type="text" id="alt" name="alt" required><br><br>

    <label for="description">Description:</label><br>
    <textarea id="description" name="description" rows="4" cols="50" required></textarea><br><br>

    <label for="releaseYear">Release Year:</label><br>
    <input type="number" id="releaseYear" name="releaseYear" required><br><br>

    <label for="duration">Duration (in minutes):</label><br>
    <input type="number" id="duration" name="duration" required><br><br>

    <label for="ratingIMDb">IMDb Rating:</label><br>
    <input type="number" step="0.1" id="ratingIMDb" name="ratingIMDb" required><br><br>

    <label for="ratingStreamVibe">StreamVibe Rating:</label><br>
    <input type="number" step="0.1" id="ratingStreamVibe" name="ratingStreamVibe" required><br><br>

    <label for="photo">Photo:</label><br>
    <input type="file" id="photo" name="photo" accept="image/*" required><br><br>

    <label for="video">Video:</label><br>
    <input type="file" id="video" name="video" accept="video/*" required><br><br>

    <label for="directorName">Director Name:</label><br>
    <input type="text" id="directorName" name="directorName" required><br><br>

    <label for="directorCountry">Director Country:</label><br>
    <input type="text" id="directorCountry" name="directorCountry" required><br><br>

    <label for="directorAvatar">Director Avatar:</label><br>
    <input type="file" id="directorAvatar" name="directorAvatar" accept="image/*" required><br><br>

    <label for="musicDirectorName">Music Director Name:</label><br>
    <input type="text" id="musicDirectorName" name="musicDirectorName" required><br><br>

    <label for="musicDirectorCountry">Music Director Country:</label><br>
    <input type="text" id="musicDirectorCountry" name="musicDirectorCountry" required><br><br>

    <label for="musicDirectorAvatar">Music Director Avatar:</label><br>
    <input type="file" id="musicDirectorAvatar" name="musicDirectorAvatar" accept="image/*" required><br><br>

    <label for="actor1Name">Actor 1 Name:</label><br>
    <input type="text" id="actor1Name" name="actor1Name" required><br><br>

    <label for="actor1Avatar">Actor 1 Avatar:</label><br>
    <input type="file" id="actor1Avatar" name="actor1Avatar" accept="image/*" required><br><br>

    <label for="actor2Name">Actor 2 Name:</label><br>
    <input type="text" id="actor2Name" name="actor2Name" required><br><br>

    <label for="actor2Avatar">Actor 2 Avatar:</label><br>
    <input type="file" id="actor2Avatar" name="actor2Avatar" accept="image/*" required><br><br>

    <button type="submit">Upload Movie</button>
</form>

<script>
    const form = document.getElementById('movieForm');

    form.addEventListener('submit', async (event) => {
        event.preventDefault();

        const formData = new FormData(form);
        const url = 'http://localhost:8080/api/movies/upload';

        try {
            const response = await fetch(url, {
                method: 'POST',
                body: formData
            });

            if (response.ok) {
                const data = await response.json();
                console.log('Movie uploaded successfully:', data);
                alert('Movie uploaded successfully!');
                form.reset();
            } else {
                console.error('Failed to upload movie:', response.statusText);
                alert('Failed to upload movie. Please try again.');
            }
        } catch (error) {
            console.error('Error uploading movie:', error);
            alert('Error uploading movie. Please try again.');
        }
    });
</script>
</body>
</html>
